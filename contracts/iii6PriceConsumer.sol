// SPDX-License-Identifier: GPL-3.0
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//
//      MMWKd:..                                                                                    ..:dKWMM
//      MKl.                                                                                            .lKW
//      O'       ..''''''''''''.     .''''''.     .'''''.      .''''''''''''''.     .''''''''''''..       'O
//      '     .ckKNNWNWWWWWWWWWk.   .xNWWNWNl    ,0WWWWW0,     lNWWWWWWWWWNWNk'    ;0NNNWWWWWWWWNNKkc.     '
//           ,OWMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMMMMMM0,    ;KMMMMMMMMMMMMMMMMWO,
//          .kMMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMMMMM0,    ;KMMMMMMMMMMMMMMMMMMMk.
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMMMM0,    :KMMMMMMMMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMMM0,    :KMMMMMMMMMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMMM0,    ;0NNWWMMMMMMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMM0,     .'.',;lkNMMMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMMK;              ,kWMMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMMX:    .:oxxdc'    .dWMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMWd.   ,OWMMMMMXl.   '0MMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMX;   .kMMMMMMMMK,   .xMMMMMMMMMMMM0'
//          '0MMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMM0'   .OMMMMMMMMX;   .xMMMMMMMMMMMM0'
//          .OMMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMK,    lNMMMMMMWx.   '0MMMMMMMMMMMMO.
//           lNMMMMMMMMMMMMMMMMO.   .kMMMMMWl    ,KMMMMMK,     lWMMMWd.   .:x0KKKkc.   .dWMMMMMMMMMMMNl
//      .    .c0WMMMMMMMMMMMMMMO.   .kMMMMMWo    ,KMMMMMK,     lWMMMMNd.     ....     .xNMMMMMMMMMMW0c.    .
//      l      .,lddxxxxxxxxxxxc.    :xxxxxd,    .lxxxxxl.     ,dxxxxxd:.            .cdxxxxxxxxddl,.      l
//      No.                                                                                              .oN
//      MW0l'                                                                                          'l0WM
//      MMMWKd;.                                                                                    .;dKWMMM
//
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//                                                                                                                                                                                  //
//      @dev            ::              Aron Mauritala Ayuk                                                                                                                                          //
//      @msg            ::              stereo@iii6.xyz                                                                                                                                   //
//      @github         ::              @stereoIII6
//      @twitter        ::              @stereoIII6                                                                                                                                              //
//                                                                                                                                                                                  //
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//                                                                                                                                                                                  //
//      @dev            ::              Juan Xavier Valverde                                                                                                                                    //
//      @msg            ::              juanxavier@iii6.xyz                                                                                                                               //
//      @twitter        ::              @JuanXavier                                                                                                                                             //
//      @github         ::              @JuanXavier                                                                                                                                             //
//                                                                                                                                                                                  //                                                                                                                                                                                 //
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//  *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   //
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//                                                                                                                                                                                  //
//      @company        ::              Fractio Holding                                                                                                                                                                       //
//      @title          ::              iii6 Price Consumer                                                                                                                            //
//      @description    ::              Fractio Holding Price Oracle Contract                                                                                                                           //
//      @version        ::              0.0.1                                                                                                                                       //
//      @purpose        ::              Multinet Oracle Price Feed                                                                                                           //
//                                                                                                                                                                                  //
//                                                                                                                                                                                  //
//                                                                                                                                                                                  //
//                                                                                                                                                                                  //
//                                                                                                                                                                                  //
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //
//  *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   *   //
// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

pragma solidity ^0.8.7;

import "@chainlink/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol";
import "@chainlink/contracts/src/v0.8/interfaces/LinkTokenInterface.sol";

// 0 Fuji // 1 Avax // 2 Fantom Test // 4 Fantom Main // 5 Polygon Mumbai // 6 Polygon Main
contract iii6PriceConsumer {
    AggregatorV3Interface internal ethUSDagg;
    AggregatorV3Interface internal mainUSDagg;
    AggregatorV3Interface internal xUSDagg;
    AggregatorV3Interface internal yUSDagg;
    uint256 xDig;
    uint256 yDig;

    constructor() {
        if (block.chainid == 43113) {
            // AVAX FUJI
            ethUSDagg = AggregatorV3Interface(
                0x86d67c3D38D2bCeE722E601025C25a575021c6EA
            );
            mainUSDagg = AggregatorV3Interface(
                0x5498BB86BC934c8D34FDA08E81D444153d0D06aD
            );
        } else if (block.chainid == 43114) {
            // AVAX MAINNET
            ethUSDagg = AggregatorV3Interface(
                0x976B3D034E162d8bD72D6b9C989d545b839003b0
            );
            mainUSDagg = AggregatorV3Interface(
                0x0A77230d17318075983913bC2145DB16C7366156
            );
        } else if (block.chainid == 4002) {
            // Fantom TESTNET
            ethUSDagg = AggregatorV3Interface(
                0xB8C458C957a6e6ca7Cc53eD95bEA548c52AFaA24
            );
            mainUSDagg = AggregatorV3Interface(
                0xe04676B9A9A2973BCb0D1478b5E1E9098BBB7f3D
            );
        } else if (block.chainid == 250) {
            // Fantom MAINNET
            ethUSDagg = AggregatorV3Interface(
                0x11DdD3d147E5b83D01cee7070027092397d63658
            );
            mainUSDagg = AggregatorV3Interface(
                0xf4766552D15AE4d256Ad41B6cf2933482B0680dc
            );
        } else if (block.chainid == 80001) {
            // Polygon Mumbai
            ethUSDagg = AggregatorV3Interface(
                0x0715A7794a1dc8e42615F059dD6e406A6594651A
            );
            mainUSDagg = AggregatorV3Interface(
                0xd0D5e3DB44DE05E9F294BB0a3bEEaF030DE24Ada
            );
        } else if (block.chainid == 137) {
            // Polygon Mainnet
            ethUSDagg = AggregatorV3Interface(
                0xF9680D99D6C9589e2a93a78A04A279e509205945
            );
            mainUSDagg = AggregatorV3Interface(
                0xAB594600376Ec9fD91F8e885dADF0CE036862dE0
            );
        }
    }

    // gives back weth price in $
    function WethUsdPrice() external view returns (int256 priceFull) {
        (, int256 price, , , ) = ethUSDagg.latestRoundData();
        priceFull = int256(uint256(price) * 10**10);
    }

    // gives back network gas currency price in $
    function CoinUsdPrice() external view returns (int256 priceFull) {
        (, int256 price, , , ) = mainUSDagg.latestRoundData();
        priceFull = int256(uint256(price) * 10**10);
    }

    function _setX(address _oracle, uint256 _digits) internal returns (bool) {
        xUSDagg = AggregatorV3Interface(_oracle);
        xDig = 18 - _digits;
        return true;
    }

    function setX(address _oracle, uint256 _digits) external returns (bool) {
        return _setX(_oracle, _digits);
    }

    // gives back network gas currency price in $
    function XUsdPrice() external view returns (int256 priceFull) {
        (, int256 price, , , ) = xUSDagg.latestRoundData();
        priceFull = int256(uint256(price) * 10**xDig);
    }

    function _setY(address _oracle, uint256 _digits) internal returns (bool) {
        yUSDagg = AggregatorV3Interface(_oracle);
        yDig = 18 - _digits;
        return true;
    }

    function setY(address _oracle, uint256 _digits) external returns (bool) {
        return _setY(_oracle, _digits);
    }

    // gives back network gas currency price in $
    function YUsdPrice() external view returns (int256 priceFull) {
        (, int256 price, , , ) = yUSDagg.latestRoundData();
        priceFull = int256(uint256(price) * 10**yDig);
    }
}
